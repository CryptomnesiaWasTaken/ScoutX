{"version":3,"sources":["features/modalSlice.js","services/axiosConfig.js","features/userSlice.js","assets/cake.svg","assets/camera.svg","assets/clock.svg","assets/location.svg","assets/mail.svg","assets/plane.svg","assets/not-found.svg","assets/search.svg","assets/chat.svg","assets/close.svg","assets/file.svg","assets/hamburger.svg","assets/options.svg","assets/home.svg","assets/logout.svg","assets/dp.jpg","components/Loading/Loading.jsx","features/socketSlice.js","services/authServices.js","components/DataList/DataList.jsx","components/Login/Login.jsx","components/Register/Register.jsx","pages/Auth/Auth.jsx","components/Modal/Modal.jsx","components/ThemeSwitch/ThemeSwitch.jsx","components/SearchResults/SearchResults.jsx","components/Appbar/Appbar.jsx","components/EditPost/EditPost.jsx","routes/ProtectedRoute.jsx","routes/index.jsx","App.js","app/rootReducer.js","app/store.js","index.js","utils/extractParams.js","services/postServices.js","hooks/useFetch.js","features/postSlice.js","features/messageSlice.js","features/usersSlice.js","components/Backdrop/Backdrop.jsx","services/userServices.js","serverUri.js","services/messageServices.js","components/Online/Online.jsx","components/CreatePost/CreatePost.jsx"],"names":["initialState","modals","isSidebarVisible","isLoading","showModal","createAsyncThunk","props","thunkAPI","fulfillWithValue","dispatch","msg","id","Date","getTime","modal","setTimeout","modalSlice","actions","hideModal","createSlice","name","reducers","state","action","filter","ele","payload","toggleSidebar","setIsLoading","extraReducers","fulfilled","push","logout","type","axiosConfig","axios","create","baseURL","SERVER_URI","interceptor","profileImage","token","isGuest","userSlice","login","Cookies","set","JSON","stringify","expires","interceptors","request","use","config","headers","error","Promise","reject","remove","eject","update","Object","keys","map","key","timeout","socket","socketSlice","setSocket","loginService","a","formData","params","extractParams","post","data","registerService","DataList","email","setEmail","useState","mailDomains","setMailDomains","emailDomains","useMemo","useEffect","includes","_email","split","domains","domain","mail","match","RegExp","prev","show","updateEmail","e","target","value","className","onClick","Login","setIsRegistering","password","setPassword","useDispatch","customFetch","useFetch","loginHandler","preventDefault","onSubmit","htmlFor","placeholder","onChange","initialForm","dob","Register","form","setForm","registerHandler","updateForm","required","Auth","isRegistering","Modal","node","useSelector","createPortal","document","getElementById","controller","AbortController","initialQuote","Loading","quote","setQuote","fetchQuote","get","signal","text","q","clearTimeout","abort","ThemeSwitch","setTheme","isOpen","setIsOpen","changeTheme","currentTarget","classList","SearchResults","searchResult","reset","posts","to","_id","caption","users","user","Appbar","query","setQuery","setSearchResult","searchHandler","length","fetchPostsService","fetchUsersService","src","closeIcon","hamburger","alt","homeIcon","searchIcon","dp","title","chatIcon","EditPost","close","editingPost","CreatePost","ProtectedRoute","children","Home","lazy","SinglePost","Profile","Chat","MessengerPage","NotFound","Layout","closeEditing","setEditingPost","Backdrop","onClose","fallback","Router","authenticate","Comp","path","element","index","App","theme","message","conversationID","parse","getUsers","setPosts","io","on","addOnline","deleteChat","off","senderID","updateChats","lastMessage","addMessages","clearMessage","Online","combineReducers","userReducer","modalReducer","postReducer","messageReducer","socketReducer","usersReducer","store","configureStore","reducer","rootReducer","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","ignoredPaths","ReactDOM","render","StrictMode","forEach","createPostService","likePostService","patch","commentPostService","deleteCommentService","delete","editCommentService","replyCommentService","deletePostService","updatePostService","navigate","useNavigate","useCallback","callback","response","status","require","allPosts","page","userPosts","singlePost","handleGuest","rejectWithValue","postSlice","setAllPosts","addPost","getState","updatePost","setSinglePost","updatePosts","likePost","isLiked","userId","add","commentPost","comment","deletePost","deleteComment","postId","commentId","replyId","editComment","replyComment","replyTo","setUserPosts","pop","unshift","likes","find","_post","createdBy","updatedName","userDetails","updatedImage","image","pending","messages","chats","getAllChats","fetchChatsService","u","createChat","createChatService","partnerId","every","chat","cid","messageSlice","setChatID","setReceiverID","fetchMessagesService","chatId","_data","setMessages","findIndex","members","updatingChat","send","sender","createdAt","String","usersOnline","usersSlice","newChildren","cloneElement","undefined","firstChild","contains","updateUserService","updateDPService","process","some","loading","preview","compress","Compress","compressImage","files","options","size","quality","maxWidth","maxHeight","resize","rotate","loadImage","input","reader","FileReader","onload","result","readAsDataURL","convertBase64ToFile","ext","submitHandler","FormData","append","trim","fileIcon","accept","sendIcon"],"mappings":"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","file":"static/js/main.64890265.chunk.js","sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport { logout } from \"./userSlice\";\n\nconst initialState = {\n\tmodals: [],\n\tisSidebarVisible: false,\n\tisLoading: false,\n};\n\nexport const showModal = createAsyncThunk(\"modal/show\", async (props, thunkAPI) => {\n\tconst { fulfillWithValue, dispatch } = thunkAPI;\n\tconst msg = props.msg || \"Hold on I swear it won't take so long\";\n\tconst id = new Date().getTime();\n\tconst modal = { msg, id };\n\tsetTimeout(() => {\n\t\tdispatch(modalSlice.actions.hideModal(id));\n\t}, 10000);\n\treturn fulfillWithValue(modal);\n});\n\nconst modalSlice = createSlice({\n\tname: \"modal\",\n\tinitialState,\n\treducers: {\n\t\thideModal: (state, action) => {\n\t\t\tstate.modals = state.modals.filter(ele => ele.id !== action.payload);\n\t\t},\n\t\ttoggleSidebar: (state, action) => {\n\t\t\tstate.isSidebarVisible = action.payload;\n\t\t},\n\t\tsetIsLoading: (state, action) => {\n\t\t\tstate.isLoading = action.payload;\n\t\t},\n\t},\n\textraReducers: {\n\t\t[showModal.fulfilled]: (state, action) => {\n\t\t\tstate.modals.push(action.payload);\n\t\t},\n\t\t[logout.type]: (state, action) => {\n\t\t\treturn initialState;\n\t\t},\n\t},\n});\n\nexport const { hideModal, toggleSidebar, setIsLoading } = modalSlice.actions;\n\nexport default modalSlice.reducer;\n","import axios from \"axios\";\nimport SERVER_URI from \"../serverUri\";\n\nconst axiosConfig = axios.create({\n\tbaseURL: `${SERVER_URI}/api/v1`,\n});\n\nexport default axiosConfig;\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport Cookies from \"js-cookie\";\nimport axiosConfig from \"../services/axiosConfig\";\n\nconst initialState = {\n\tid: \"\",\n\tname: \"\",\n\tprofileImage: \"\",\n\ttoken: \"\",\n\tisGuest: \"\",\n};\n\nlet interceptor;\n\nconst userSlice = createSlice({\n\tname: \"user\",\n\tinitialState,\n\treducers: {\n\t\tlogin: (state, action) => {\n\t\t\tconst { id, name, profileImage, token, isGuest } = action.payload;\n\t\t\tCookies.set(\"user\", JSON.stringify(action.payload), { expires: 30 });\n\t\t\tinterceptor = axiosConfig.interceptors.request.use(\n\t\t\t\tconfig => {\n\t\t\t\t\tconfig.headers[\"Authorization\"] = `Bearer ${token}`;\n\t\t\t\t\treturn config;\n\t\t\t\t},\n\t\t\t\terror => Promise.reject(error)\n\t\t\t);\n\t\t\treturn { id, name, profileImage, token, isGuest: !!isGuest };\n\t\t},\n\t\tlogout: state => {\n\t\t\tCookies.remove(\"user\");\n\t\t\taxiosConfig.interceptors.request.eject(interceptor);\n\t\t\treturn initialState;\n\t\t},\n\t\tupdate: (state, action) => {\n\t\t\tconst { payload } = action;\n\t\t\tObject.keys(payload).map(key => (state[key] = payload[key]));\n\t\t\tCookies.set(\"user\", JSON.stringify(state));\n\t\t},\n\t},\n});\n\nexport const { login, logout, update } = userSlice.actions;\n\nexport default userSlice.reducer;\n","export default __webpack_public_path__ + \"static/media/cake.c1762fd7.svg\";","export default __webpack_public_path__ + \"static/media/camera.ff4c0e99.svg\";","export default __webpack_public_path__ + \"static/media/clock.cc1952e6.svg\";","export default __webpack_public_path__ + \"static/media/location.6b5457f0.svg\";","export default __webpack_public_path__ + \"static/media/mail.48b4cc1d.svg\";","export default __webpack_public_path__ + \"static/media/plane.eba708a4.svg\";","export default __webpack_public_path__ + \"static/media/not-found.abdd0afe.svg\";","export default __webpack_public_path__ + \"static/media/search.93fc17bd.svg\";","export default __webpack_public_path__ + \"static/media/chat.b9d8614c.svg\";","export default __webpack_public_path__ + \"static/media/close.cfccae79.svg\";","export default __webpack_public_path__ + \"static/media/file.0dcbe82b.svg\";","export default __webpack_public_path__ + \"static/media/hamburger.1280d20e.svg\";","export default __webpack_public_path__ + \"static/media/options.08323f9f.svg\";","export default __webpack_public_path__ + \"static/media/home.15713715.svg\";","export default __webpack_public_path__ + \"static/media/logout.f8ac3093.svg\";","export default \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/4Qm+aHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA0LjQuMC1FeGl2MiI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyI+IDxkYzpjcmVhdG9yPiA8cmRmOlNlcT4gPHJkZjpsaT5WZWN0b3JTdG9jay5jb20vMTg5NDIzODE8L3JkZjpsaT4gPC9yZGY6U2VxPiA8L2RjOmNyZWF0b3I+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw/eHBhY2tldCBlbmQ9InciPz7/2wBDAAMCAgMCAgMDAwMEAwMEBQgFBQQEBQoHBwYIDAoMDAsKCwsNDhIQDQ4RDgsLEBYQERMUFRUVDA8XGBYUGBIUFRT/2wBDAQMEBAUEBQkFBQkUDQsNFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBT/wAARCAD6AO4DAREAAhEBAxEB/8QAHAABAAIDAQEBAAAAAAAAAAAAAAEHBAUG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\"","import axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport \"./loading.css\";\n\nlet timeout;\nconst controller = new AbortController();\nconst initialQuote =\n\t\"Nothing can stop the man with the right mental attitude from achieving his goal; nothing on earth can help the man with the wrong mental attitude.\";\n\nconst Loading = ({ show }) => {\n\tconst [quote, setQuote] = useState(initialQuote);\n\tconst fetchQuote = async () => {\n\t\ttry {\n\t\t\tconst { data } = await axios.get(\"https://uselessfacts.jsph.pl/random.json?language=en\", {\n\t\t\t\tsignal: controller.signal,\n\t\t\t});\n\t\t\tsetQuote(data.text);\n\t\t} catch (err) {}\n\t};\n\tuseEffect(() => {\n\t\tif (!show) {\n\t\t\tfetchQuote();\n\t\t\ttimeout = setTimeout(() => {\n\t\t\t\tsetQuote(q => {\n\t\t\t\t\tif (q !== initialQuote) return q;\n\t\t\t\t\treturn \"Your internet is slower than my crushs reply :(\";\n\t\t\t\t});\n\t\t\t}, 3000);\n\t\t}\n\t\treturn () => {\n\t\t\tclearTimeout(timeout);\n\t\t\tcontroller.abort();\n\t\t};\n\t}, [show]);\n\n\treturn (\n\t\t<section className=\"loading\">\n\t\t\t<div className=\"loading__circle\"></div>\n\t\t\t<h2>Do you know?</h2>\n\t\t\t<p>{quote}</p>\n\t\t</section>\n\t);\n};\n\nexport default Loading;\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport { logout } from \"./userSlice\";\n\nconst initialState = {\n\tsocket: null,\n};\n\nconst socketSlice = createSlice({\n\tname: \"socket\",\n\tinitialState,\n\treducers: {\n\t\tsetSocket: (state, action) => {\n\t\t\tstate.socket = action.payload;\n\t\t},\n\t},\n\textraReducers: {\n\t\t[logout.type]: (state, action) => {\n\t\t\treturn initialState;\n\t\t},\n\t},\n});\n\nexport const { setSocket } = socketSlice.actions;\n\nexport default socketSlice.reducer;\n","import extractParams from \"../utils/extractParams\";\nimport axiosConfig from \"./axiosConfig\";\n\nconst loginService = async (formData = {}) => {\n\tconst params = extractParams(formData, \"email\", \"password\");\n\tconst { data } = await axiosConfig.post(\"/auth/login\", params);\n\treturn data;\n};\n\nconst registerService = async (formData = {}) => {\n\tconst params = extractParams(formData, \"name\", \"email\", \"password\", \"dob\");\n\tconst { data } = await axiosConfig.post(\"/auth/register\", params);\n\treturn data;\n};\n\nexport { loginService, registerService };\n","import React, { useEffect, useState, useMemo } from \"react\";\n\nconst DataList = ({ email, setEmail }) => {\n\tconst [mailDomains, setMailDomains] = useState({});\n\n\tconst emailDomains = useMemo(\n\t\t() => [\n\t\t\t\"gmail\",\n\t\t\t\"hotmail\",\n\t\t\t\"outlook\",\n\t\t\t\"aol\",\n\t\t\t\"aim\",\n\t\t\t\"yahoo\",\n\t\t\t\"icloud\",\n\t\t\t\"protonmail\",\n\t\t\t\"zoho\",\n\t\t\t\"yandex\",\n\t\t\t\"gmx\",\n\t\t\t\"hubspot\",\n\t\t\t\"mail\",\n\t\t],\n\t\t[]\n\t);\n\tuseEffect(() => {\n\t\tif (email.includes(\"@\")) {\n\t\t\tconst _email = email.split(\"@\")[0];\n\t\t\tlet domains = emailDomains.map(domain => `${mailDomains.mail || _email}@${domain}.com`);\n\t\t\tdomains = domains.filter(domain => domain.match(new RegExp(email)));\n\t\t\tsetMailDomains(prev => ({ show: true, mail: prev.mail || _email, domains }));\n\t\t} else if (!email.includes(\"@\")) {\n\t\t\tsetMailDomains({});\n\t\t}\n\t\tif (mailDomains.domains?.includes(email)) {\n\t\t\tsetMailDomains(prev => ({ ...prev, show: false }));\n\t\t}\n\t\t// eslint-disable-next-line\n\t}, [email, emailDomains]);\n\n\tconst updateEmail = e => {\n\t\tsetEmail(e.target.value);\n\t};\n\n\tif (mailDomains.show)\n\t\treturn (\n\t\t\t<datalist id=\"email-domains\" className=\"email-datalist\">\n\t\t\t\t{mailDomains.domains?.map(mail => (\n\t\t\t\t\t<option onClick={updateEmail} key={mail}>\n\t\t\t\t\t\t{mail}\n\t\t\t\t\t</option>\n\t\t\t\t))}\n\t\t\t</datalist>\n\t\t);\n\treturn null;\n};\n\nexport default DataList;\n","import React, { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { login } from \"../../features/userSlice\";\nimport useFetch from \"../../hooks/useFetch\";\nimport { setIsLoading } from \"../../features/modalSlice\";\nimport { loginService } from \"../../services/authServices\";\nimport DataList from \"../DataList/DataList\";\n\nconst Login = ({ setIsRegistering }) => {\n\tconst [email, setEmail] = useState(\"\");\n\tconst [password, setPassword] = useState(\"\");\n\tconst dispatch = useDispatch();\n\tconst customFetch = useFetch();\n\n\tconst loginHandler = async e => {\n\t\te.preventDefault();\n\t\tdispatch(setIsLoading(true));\n\t\tconst data = await customFetch(loginService, { email, password });\n\t\tif (data) dispatch(login(data));\n\t\tdispatch(setIsLoading(false));\n\t};\n\n\tconst guestHandler = () => {\n\t\tdispatch(login({ id: \"guest\", isGuest: true }));\n\t};\n\n\treturn (\n\t\t<form onSubmit={loginHandler} className=\"login\">\n\t\t\t<div className=\"email\">\n\t\t\t\t<label htmlFor=\"login-email\">Email</label>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"email\"\n\t\t\t\t\tid=\"login-email\"\n\t\t\t\t\tplaceholder=\"johndoe@example.com\"\n\t\t\t\t\tvalue={email}\n\t\t\t\t\tonChange={e => setEmail(e.target.value)}\n\t\t\t\t/>\n\t\t\t\t<DataList email={email} setEmail={setEmail} />\n\t\t\t</div>\n\t\t\t<label htmlFor=\"login-password\">Password</label>\n\t\t\t<input\n\t\t\t\ttype=\"password\"\n\t\t\t\tid=\"login-password\"\n\t\t\t\tplaceholder=\"Top secret\"\n\t\t\t\tvalue={password}\n\t\t\t\tonChange={e => setPassword(e.target.value)}\n\t\t\t/>\n\t\t\t<button type=\"submit\">Login</button>\n\t\t\t<p>\n\t\t\t\tDon't have an account? <br />\n\t\t\t\t<span onClick={() => setIsRegistering(true)}>Register</span> or{\" \"}\n\t\t\t\t<span onClick={guestHandler}>Continue as a guest</span>\n\t\t\t</p>\n\t\t</form>\n\t);\n};\n\nexport default Login;\n","import React, { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { setIsLoading } from \"../../features/modalSlice\";\nimport { login } from \"../../features/userSlice\";\nimport useFetch from \"../../hooks/useFetch\";\nimport { registerService } from \"../../services/authServices\";\nimport DataList from \"../DataList/DataList\";\n\nconst initialForm = { name: \"\", password: \"\", email: \"\", dob: \"\" };\n\nconst Register = ({ setIsRegistering }) => {\n\tconst [form, setForm] = useState(initialForm);\n\tconst dispatch = useDispatch();\n\tconst customFetch = useFetch();\n\n\tconst registerHandler = async e => {\n\t\te.preventDefault();\n\t\tdispatch(setIsLoading(true));\n\t\tconst data = await customFetch(registerService, form);\n\t\tif (data) dispatch(login(data));\n\t\tdispatch(setIsLoading(false));\n\t};\n\n\tconst updateForm = (key, e) => {\n\t\tsetForm(form => ({ ...form, [key]: e.target.value }));\n\t};\n\n\treturn (\n\t\t<form onSubmit={registerHandler} className=\"register\">\n\t\t\t<div className=\"email\">\n\t\t\t\t<label htmlFor=\"email\">Email</label>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"email\"\n\t\t\t\t\tid=\"email\"\n\t\t\t\t\tplaceholder=\"johndoe@example.com\"\n\t\t\t\t\tvalue={form.email}\n\t\t\t\t\trequired\n\t\t\t\t\tonChange={e => updateForm(\"email\", e)}\n\t\t\t\t/>\n\t\t\t\t<DataList email={form.email} setEmail={value => setForm(form => ({ ...form, email: value }))} />\n\t\t\t</div>\n\t\t\t<label htmlFor=\"name\">Username</label>\n\t\t\t<input\n\t\t\t\ttype=\"text\"\n\t\t\t\tid=\"name\"\n\t\t\t\tplaceholder=\"john doe\"\n\t\t\t\tvalue={form.name}\n\t\t\t\trequired\n\t\t\t\tonChange={e => updateForm(\"name\", e)}\n\t\t\t/>\n\t\t\t<label htmlFor=\"dob\">Date of birth</label>\n\t\t\t<input type=\"date\" id=\"dob\" required value={form.dob} onChange={e => updateForm(\"dob\", e)} />\n\t\t\t<label htmlFor=\"password\">Password</label>\n\t\t\t<input\n\t\t\t\ttype=\"password\"\n\t\t\t\tid=\"password\"\n\t\t\t\tplaceholder=\"Top secret\"\n\t\t\t\trequired\n\t\t\t\tvalue={form.password}\n\t\t\t\tonChange={e => updateForm(\"password\", e)}\n\t\t\t/>\n\t\t\t<button type=\"submit\">Register</button>\n\t\t\t<p>\n\t\t\t\tAlready have an account? <span onClick={() => setIsRegistering(false)}>Login</span>\n\t\t\t</p>\n\t\t</form>\n\t);\n};\n\nexport default Register;\n","import React, { useState } from \"react\";\nimport Login from \"../../components/Login/Login\";\nimport Register from \"../../components/Register/Register\";\nimport \"./auth.css\";\n\nconst Auth = () => {\n   const [isRegistering, setIsRegistering] = useState(false);\n\n   return (\n      <section className={isRegistering ? \"auth signup\" : \"auth\"}>\n         <Login setIsRegistering={setIsRegistering} />\n         <Register setIsRegistering={setIsRegistering} />\n      </section>\n   );\n};\n\nexport default Auth;\n","import React from \"react\";\nimport { createPortal } from \"react-dom\";\nimport { useSelector } from \"react-redux\";\nimport \"./modal.css\";\n\nconst Modal = () => {\n\tconst { modals } = useSelector(state => state.modal);\n\tconst node = modals.map(modal => (\n\t\t<div className=\"modal\" key={modal.id}>\n\t\t\t<p>{modal.msg}</p>\n\t\t</div>\n\t));\n\treturn createPortal(node, document.getElementById(\"modals\"));\n};\n\nexport default Modal;\n","import React, { useState } from \"react\";\nimport \"./themeSwitch.css\";\nimport { AiFillFormatPainter } from \"react-icons/ai\";\n\nconst ThemeSwitch = ({ setTheme }) => {\n\tconst [isOpen, setIsOpen] = useState(false);\n\tconst className = isOpen ? \"theme-switch open\" : \"theme-switch\";\n\tconst changeTheme = e => {\n\t\tsetTheme(e.currentTarget.classList[0]);\n\t\tsetIsOpen(false);\n\t};\n\treturn (\n\t\t<div className={className}>\n\t\t\t<div className=\"switch\" onClick={() => setIsOpen(!isOpen)}>\n\t\t\t\t<AiFillFormatPainter />\n\t\t\t</div>\n\t\t\t<div className=\"themes\">\n\t\t\t\t<div className=\"dark\" onClick={changeTheme}>\n\t\t\t\t\t<p className=\"tooltip\">Dark</p>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"dark-contrast\" onClick={changeTheme}>\n\t\t\t\t\t<p className=\"tooltip\">Dark Contrast</p>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"dark-blue-tint\" onClick={changeTheme}>\n\t\t\t\t\t<p className=\"tooltip\">Dark Blue Tint</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default ThemeSwitch;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./searchresult.css\";\n\nconst SearchResults = ({ searchResult, reset }) => {\n\treturn (\n\t\t<div className=\"search-results\">\n\t\t\t<div>\n\t\t\t\t<h3>Posts</h3>\n\t\t\t\t{searchResult.posts?.map(post => (\n\t\t\t\t\t<Link to={`/post/${post._id}`} key={post._id}>\n\t\t\t\t\t\t<p onClick={reset}>{post.caption}</p>\n\t\t\t\t\t</Link>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<h3>Users</h3>\n\t\t\t\t{searchResult.users?.map(user => (\n\t\t\t\t\t<Link to={`/user/${user._id}`} key={user._id}>\n\t\t\t\t\t\t<p onClick={reset}>{user.name}</p>\n\t\t\t\t\t</Link>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default SearchResults;\n","import React, { useState } from \"react\";\nimport { dp, closeIcon, searchIcon, hamburger, chatIcon, homeIcon } from \"../../assets\";\nimport { Link } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { setIsLoading, toggleSidebar } from \"../../features/modalSlice\";\nimport useFetch from \"../../hooks/useFetch\";\nimport SearchResults from \"../SearchResults/SearchResults\";\nimport { fetchUsersService } from \"../../services/userServices\";\nimport { fetchPostsService } from \"../../services/postServices\";\nimport \"./appbar.css\";\nimport { logout } from \"../../features/userSlice\";\n\nconst Appbar = () => {\n\t//global states\n\tconst {\n\t\tuser: { id, profileImage, isGuest },\n\t\tmodal: { isSidebarVisible },\n\t} = useSelector(state => state);\n\n\t//local states\n\tconst [query, setQuery] = useState(\"\");\n\tconst [searchResult, setSearchResult] = useState({});\n\n\tconst dispatch = useDispatch();\n\tconst customFetch = useFetch();\n\n\tconst searchHandler = async e => {\n\t\te.preventDefault();\n\t\tif (query.length > 0) {\n\t\t\tdispatch(setIsLoading(true));\n\t\t\tconst { posts } = await customFetch(fetchPostsService, { query });\n\t\t\tconst { users } = await customFetch(fetchUsersService, { query });\n\t\t\tsetSearchResult({ posts, users });\n\t\t\tdispatch(setIsLoading(false));\n\t\t}\n\t};\n\n\tconst reset = () => {\n\t\tsetQuery(\"\");\n\t\tsetSearchResult({});\n\t};\n\n\tconst gotoLogin = () => dispatch(logout());\n\n\treturn (\n\t\t<header className={searchResult.posts || searchResult.users ? \"appbar topZ\" : \"appbar\"}>\n\t\t\t<div className=\"hamburger\" onClick={() => dispatch(toggleSidebar(!isSidebarVisible))}>\n\t\t\t\t<img src={isSidebarVisible ? closeIcon : hamburger} alt=\"hamburger\" />\n\t\t\t</div>\n\t\t\t<Link to=\"/\">\n\t\t\t\t<img src={homeIcon} alt=\"home\" className=\"home-icon\" />\n\t\t\t</Link>\n\t\t\t<form onSubmit={searchHandler} className=\"searchform\">\n\t\t\t\t<button type=\"submit\" aria-label=\"search\">\n\t\t\t\t\t<img src={searchIcon} alt=\"search\" />\n\t\t\t\t</button>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tplaceholder=\"Tap to search...\"\n\t\t\t\t\tvalue={query}\n\t\t\t\t\tonChange={e => setQuery(e.target.value)}\n\t\t\t\t/>\n\t\t\t\t<button onClick={reset} type=\"button\" aria-label=\"clear search\">\n\t\t\t\t\t<img src={closeIcon} alt=\"close\" className=\"close\" />\n\t\t\t\t</button>\n\t\t\t\t{(searchResult.posts || searchResult.users) && (\n\t\t\t\t\t<SearchResults searchResult={searchResult} reset={reset} />\n\t\t\t\t)}\n\t\t\t</form>\n\t\t\t<nav className=\"appbar__profile\">\n\t\t\t\t{isGuest ? (\n\t\t\t\t\t<button className=\"login-btn\" onClick={gotoLogin}>\n\t\t\t\t\t\tLogin\n\t\t\t\t\t</button>\n\t\t\t\t) : (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Link to={`/user/${id}`}>\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tsrc={profileImage || dp}\n\t\t\t\t\t\t\t\talt=\"profileImage\"\n\t\t\t\t\t\t\t\tclassName=\"appbar__profile__dp\"\n\t\t\t\t\t\t\t\ttitle=\"profile\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t<Link to=\"/chat\">\n\t\t\t\t\t\t\t<img src={chatIcon} alt=\"chat\" className=\"chat\" />\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</nav>\n\t\t</header>\n\t);\n};\n\nexport default Appbar;\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport CreatePost from \"../CreatePost/CreatePost\";\nimport \"./editpost.css\";\n\nconst EditPost = ({ close }) => {\n\tconst {\n\t\tpost: { editingPost },\n\t} = useSelector(state => state);\n\treturn (\n\t\t<div className=\"editPost\">\n\t\t\t<CreatePost post={editingPost} id=\"editpost-image\" close={close} />\n\t\t</div>\n\t);\n};\n\nexport default EditPost;\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { Navigate } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ children }) => {\n\tconst { isGuest } = useSelector(state => state.user);\n\treturn isGuest ? <Navigate to=\"/\" /> : children;\n};\n\nexport default ProtectedRoute;\n","import { Suspense, lazy } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Outlet, Route, Routes } from \"react-router-dom\";\nimport { setEditingPost } from \"../features/postSlice\";\nimport Appbar from \"../components/Appbar/Appbar\";\nimport Backdrop from \"../components/Backdrop/Backdrop\";\nimport EditPost from \"../components/EditPost/EditPost\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport ProgressBar from \"react-topbar-progress-indicator\";\n\nconst Home = lazy(() => import(\"../pages/Home/Home\"));\nconst SinglePost = lazy(() => import(\"../pages/Singlepost/SinglePost\"));\nconst Profile = lazy(() => import(\"../pages/Profile/Profile\"));\nconst Chat = lazy(() => import(\"../pages/Chat/Chat\"));\nconst MessengerPage = lazy(() => import(\"../pages/Messenger/Messenger\"));\nconst NotFound = lazy(() => import(\"../pages/NotFound/NotFound\"));\n\nconst Layout = () => {\n\tconst {\n\t\tpost: { editingPost },\n\t} = useSelector(state => state);\n\n\tconst dispatch = useDispatch();\n\n\tconst closeEditing = () => {\n\t\tdispatch(setEditingPost({}));\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<Backdrop show={!!editingPost._id} onClose={closeEditing}>\n\t\t\t\t<EditPost close={closeEditing} />\n\t\t\t</Backdrop>\n\t\t\t<Appbar />\n\t\t\t<Suspense fallback={<ProgressBar />}>\n\t\t\t\t<Outlet />\n\t\t\t</Suspense>\n\t\t</>\n\t);\n};\n\nconst Router = () => {\n\tconst authenticate = Comp => (\n\t\t<ProtectedRoute>\n\t\t\t<Comp />\n\t\t</ProtectedRoute>\n\t);\n\treturn (\n\t\t<Routes>\n\t\t\t<Route path=\"/\" element={<Layout />}>\n\t\t\t\t<Route index element={<Home />} />\n\t\t\t\t<Route path=\"/post/:id\" element={<SinglePost />} />\n\t\t\t\t<Route path=\"/user/:id\" element={<Profile />} />\n\t\t\t\t<Route path=\"/chat\" element={authenticate(Chat)} />\n\t\t\t\t<Route path=\"/chat/messenger\" element={authenticate(MessengerPage)} />\n\t\t\t\t<Route path=\"*\" element={<NotFound />} />\n\t\t\t</Route>\n\t\t</Routes>\n\t);\n};\n\nexport default Router;\n","import React, { useEffect, useState } from \"react\";\n//utilities\nimport { io } from \"socket.io-client\";\nimport Cookies from \"js-cookie\";\nimport useFetch from \"./hooks/useFetch.js\";\nimport SERVER_URI from \"./serverUri\";\n//redux\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { login } from \"./features/userSlice.js\";\nimport { setSocket } from \"./features/socketSlice\";\nimport { showModal } from \"./features/modalSlice.js\";\nimport { addMessages, clearMessage, deleteChat, updateChats } from \"./features/messageSlice.js\";\nimport { addOnline, getUsers } from \"./features/usersSlice.js\";\nimport { setPosts } from \"./features/postSlice.js\";\n//components\nimport Auth from \"./pages/Auth/Auth\";\nimport Modal from \"./components/Modal/Modal.jsx\";\nimport Loading from \"./components/Loading/Loading.jsx\";\nimport Backdrop from \"./components/Backdrop/Backdrop.jsx\";\nimport ThemeSwitch from \"./components/ThemeSwitch/ThemeSwitch.jsx\";\nimport Router from \"./routes\";\nimport Online from \"./components/Online/Online.jsx\";\n\nfunction App() {\n\tconst dispatch = useDispatch();\n\tconst customFetch = useFetch();\n\tconst [theme, setTheme] = useState(\"dark\");\n\tconst {\n\t\tuser: { id, isGuest },\n\t\tmodal: { isLoading, isSidebarVisible },\n\t\tsocket: { socket },\n\t\tmessage: { to, conversationID },\n\t} = useSelector(state => state);\n\n\t//login\n\tuseEffect(() => {\n\t\tconst user = Cookies.get(\"user\");\n\t\tif (user) dispatch(login(JSON.parse(user)));\n\t\telse dispatch(login({ id: \"guest\", isGuest: true }));\n\t}, [dispatch]);\n\n\t//get users and chats and init socket\n\tuseEffect(() => {\n\t\tif (id) {\n\t\t\tconst query = `id=${id}`;\n\t\t\tdispatch(getUsers({ customFetch }));\n\t\t\tdispatch(setPosts({ customFetch }));\n\t\t\tif (!isGuest) dispatch(setSocket(io(SERVER_URI, { query })));\n\t\t}\n\t}, [id, customFetch, dispatch, isGuest]);\n\n\t//socket events\n\tuseEffect(() => {\n\t\tif (socket) {\n\t\t\tsocket.on(\"usersOnline\", users => dispatch(addOnline(users)));\n\t\t\tsocket.on(\"delete chat\", id => dispatch(deleteChat(id)));\n\t\t}\n\t}, [socket, dispatch]);\n\n\tuseEffect(() => {\n\t\tif (socket) {\n\t\t\tsocket.off(\"receive message\").on(\"receive message\", (message, senderID) => {\n\t\t\t\tdispatch(showModal({ msg: \"1 new message\" }));\n\t\t\t\tdispatch(updateChats({ lastMessage: message, id: senderID, customFetch }));\n\t\t\t\tsenderID === to && dispatch(addMessages({ text: message }));\n\t\t\t});\n\t\t\tsocket.off(\"clear chat\").on(\"clear chat\", id => dispatch(clearMessage({ conversationID: id })));\n\t\t}\n\t}, [customFetch, dispatch, socket, to, conversationID]);\n\n\treturn (\n\t\t<div className={\"app \" + theme}>\n\t\t\t<div className=\"container\">\n\t\t\t\t<div className={isSidebarVisible ? \"sidebar visible\" : \"sidebar\"}>\n\t\t\t\t\t<ThemeSwitch setTheme={setTheme} />\n\t\t\t\t\t<Online />\n\t\t\t\t</div>\n\t\t\t\t<ThemeSwitch setTheme={setTheme} />\n\t\t\t\t<Modal />\n\t\t\t\t{id ? <Router /> : <Auth />}\n\t\t\t</div>\n\t\t\t<Backdrop show={isLoading}>\n\t\t\t\t<Loading />\n\t\t\t</Backdrop>\n\t\t</div>\n\t);\n}\n\nexport default App;\n","import { combineReducers } from 'redux';\nimport userReducer from '../features/userSlice';\nimport modalReducer from '../features/modalSlice';\nimport postReducer from '../features/postSlice';\nimport messageReducer from '../features/messageSlice';\nimport socketReducer from '../features/socketSlice';\nimport usersReducer from '../features/usersSlice';\n\nexport default combineReducers({\n\tuser: userReducer,\n\tmodal: modalReducer,\n\tpost: postReducer,\n\tmessage: messageReducer,\n\tsocket: socketReducer,\n\tusers: usersReducer,\n});\n","import { configureStore } from \"@reduxjs/toolkit\";\nimport rootReducer from \"./rootReducer\";\n\nexport const store = configureStore({\n\treducer: rootReducer,\n\tmiddleware: getDefaultMiddleware =>\n\t\tgetDefaultMiddleware({\n\t\t\tserializableCheck: {\n\t\t\t\tignoredActions: [\"socket/setSocket\"],\n\t\t\t\tignoredPaths: [\"socket.socket\"],\n\t\t\t},\n\t\t}),\n});\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { store } from './app/store';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter as Router } from 'react-router-dom';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<Provider store={store}>\n\t\t\t<Router>\n\t\t\t\t<App />\n\t\t\t</Router>\n\t\t</Provider>\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n","export default function extractParams(formData, ...keys) {\n\tconst params = {};\n\tkeys.forEach(key => (params[key] = formData[key]));\n\treturn params;\n}\n","import extractParams from \"../utils/extractParams\";\nimport axiosConfig from \"./axiosConfig\";\n\nconst createPostService = async (formData = {}) => {\n\tconst headers = { \"Content-Type\": \"multipart/form-data\" };\n\tconst { data } = await axiosConfig.post(\"/posts\", formData, { headers });\n\treturn data;\n};\n\nconst fetchPostsService = async (formData = {}) => {\n\tconst params = extractParams(formData, \"id\", \"query\", \"page\", \"userId\");\n\tconst { data } = await axiosConfig.get(\"/posts\", { params });\n\treturn data;\n};\n\nconst likePostService = async (formData = {}) => {\n\tconst params = extractParams(formData, \"id\", \"add\");\n\tconst { data } = await axiosConfig.patch(\"/posts/like\", params);\n\treturn data;\n};\n\nconst commentPostService = async (formData = {}) => {\n\tconst params = extractParams(formData, \"id\", \"comment\");\n\tconst { data } = await axiosConfig.post(\"/posts/comment\", params);\n\treturn data;\n};\n\nconst deleteCommentService = async (formData = {}) => {\n\tconst params = extractParams(formData, \"postId\", \"commentId\", \"replyId\");\n\tconst { data } = await axiosConfig.delete(`/posts/comment`, { params });\n\treturn data;\n};\n\nconst editCommentService = async (formData = {}) => {\n\tconst params = extractParams(formData, \"postId\", \"commentId\", \"comment\", \"replyId\");\n\tconst { data } = await axiosConfig.patch(`/posts/comment`, params);\n\treturn data;\n};\n\nconst replyCommentService = async (formData = {}) => {\n\tconst params = extractParams(formData, \"id\", \"commentId\", \"comment\", \"replyTo\");\n\tconst { data } = await axiosConfig.post(\"/posts/comment\", params);\n\treturn data;\n};\n\nconst deletePostService = async (formData = {}) => {\n\tconst { id } = formData;\n\tconst { data } = await axiosConfig.delete(`/posts/${id}`);\n\treturn data;\n};\n\nconst updatePostService = async (formData = {}) => {\n\tconst { id, form } = formData;\n\tconst { data } = await axiosConfig.patch(`/posts/${id}`, form);\n\treturn data;\n};\n\nexport {\n\tfetchPostsService,\n\tcreatePostService,\n\tlikePostService,\n\tcommentPostService,\n\tdeletePostService,\n\tupdatePostService,\n\tdeleteCommentService,\n\teditCommentService,\n\treplyCommentService,\n};\n","import { useCallback } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { useNavigate } from \"react-router-dom\";\nimport { showModal } from \"../features/modalSlice\";\n\nconst useFetch = () => {\n\tconst dispatch = useDispatch();\n\tconst navigate = useNavigate();\n\treturn useCallback(\n\t\tasync (callback, ...props) => {\n\t\t\ttry {\n\t\t\t\treturn await callback(...props);\n\t\t\t} catch (error) {\n\t\t\t\tif (error.response?.status === 404) navigate(\"/not-found\");\n\t\t\t\tconst msg = error.response?.data?.msg || \"Something went wrong\";\n\t\t\t\tdispatch(showModal({ msg }));\n\t\t\t}\n\t\t},\n\t\t//if I add navigate here, it will be re-rendered every time\n\t\t//eslint-disable-next-line\n\t\t[dispatch]\n\t);\n};\n\nexport default useFetch;\n","import {\n\tcommentPostService,\n\tcreatePostService,\n\tdeleteCommentService,\n\tdeletePostService,\n\teditCommentService,\n\tfetchPostsService,\n\tlikePostService,\n\treplyCommentService,\n\tupdatePostService,\n} from \"../services/postServices\";\nimport { showModal } from \"./modalSlice\";\nimport { logout, update } from \"./userSlice\";\n\nconst { createSlice, createAsyncThunk } = require(\"@reduxjs/toolkit\");\n\nconst initialState = {\n\tallPosts: { posts: [], page: 0, isLoading: false },\n\tuserPosts: { posts: [], page: 0 },\n\teditingPost: {},\n\tsinglePost: {},\n};\n\nconst handleGuest = (isGuest, dispatch) => {\n\tif (isGuest) {\n\t\tdispatch(showModal({ msg: \"You must be logged in to do this action!!\" }));\n\t\treturn true;\n\t}\n\treturn false;\n};\n\nexport const setPosts = createAsyncThunk(\"post/set\", async (props, thunkAPI) => {\n\tconst { customFetch } = props;\n\tconst { rejectWithValue, dispatch } = thunkAPI;\n\tconst data = await customFetch(fetchPostsService);\n\tif (!data) return rejectWithValue();\n\tdispatch(postSlice.actions.setAllPosts(data));\n\treturn;\n});\n\nexport const addPost = createAsyncThunk(\"post/add\", async (props, thunkAPI) => {\n\tconst { customFetch, formData } = props;\n\tconst { fulfillWithValue, dispatch, rejectWithValue, getState } = thunkAPI;\n\tconst {\n\t\tuser: { isGuest },\n\t} = getState();\n\tif (handleGuest(isGuest, dispatch)) return rejectWithValue();\n\tdispatch(showModal({}));\n\tconst data = await customFetch(createPostService, formData);\n\tif (!data) return rejectWithValue();\n\tdispatch(showModal({ msg: \"Post created\" }));\n\treturn fulfillWithValue(data.post);\n});\n\nexport const updatePost = createAsyncThunk(\"post/update\", async (props, thunkAPI) => {\n\tconst { customFetch, formData, id } = props;\n\tconst { dispatch, rejectWithValue, getState } = thunkAPI;\n\tconst {\n\t\tuser: { isGuest },\n\t\tpost: { singlePost },\n\t} = getState();\n\tif (handleGuest(isGuest, dispatch)) return rejectWithValue();\n\tdispatch(showModal({}));\n\tconst data = await customFetch(updatePostService, { id, form: formData });\n\tif (!data) return rejectWithValue();\n\tdispatch(showModal({ msg: \"Post updated\" }));\n\tif (singlePost._id === id) dispatch(postSlice.actions.setSinglePost(data.post));\n\tdispatch(postSlice.actions.updatePosts(data.post));\n});\n\nexport const likePost = createAsyncThunk(\"post/like\", async (props, thunkAPI) => {\n\tconst { customFetch, id, isLiked } = props;\n\tconst { dispatch, rejectWithValue, getState } = thunkAPI;\n\tconst {\n\t\tuser: { isGuest, id: userId },\n\t} = getState();\n\tif (handleGuest(isGuest, dispatch)) return rejectWithValue();\n\tcustomFetch(likePostService, { id, add: !isLiked });\n\treturn { id, userId, add: !isLiked };\n});\n\nexport const commentPost = createAsyncThunk(\"post/comment\", async (props, thunkAPI) => {\n\tconst { customFetch, id, comment } = props;\n\tconst { dispatch, rejectWithValue, getState } = thunkAPI;\n\tconst {\n\t\tuser: { isGuest },\n\t\tpost: { singlePost },\n\t} = getState();\n\tif (handleGuest(isGuest, dispatch)) return rejectWithValue();\n\tconst data = await customFetch(commentPostService, { id, comment });\n\tif (!data) return rejectWithValue();\n\tif (singlePost._id === id) dispatch(postSlice.actions.setSinglePost(data.post));\n\tdispatch(postSlice.actions.updatePosts(data.post));\n});\n\nexport const deletePost = createAsyncThunk(\"post/delete\", async (props, thunkAPI) => {\n\tconst { customFetch, id } = props;\n\tconst { dispatch, fulfillWithValue, getState, rejectWithValue } = thunkAPI;\n\tconst {\n\t\tuser: { isGuest },\n\t} = getState();\n\tif (handleGuest(isGuest, dispatch)) return rejectWithValue();\n\tawait customFetch(deletePostService, { id });\n\tdispatch(showModal({ msg: \"Post Deleted\" }));\n\treturn fulfillWithValue(id);\n});\n\nexport const deleteComment = createAsyncThunk(\"post/comment/delete\", async (props, thunkAPI) => {\n\tconst { customFetch, postId, commentId, replyId } = props;\n\tconst { dispatch, fulfillWithValue, getState, rejectWithValue } = thunkAPI;\n\tconst {\n\t\tuser: { isGuest },\n\t} = getState();\n\tif (handleGuest(isGuest, dispatch)) return rejectWithValue();\n\tconst data = await customFetch(deleteCommentService, { postId, commentId, replyId });\n\tdispatch(showModal({ msg: \"Comment Deleted\" }));\n\treturn fulfillWithValue(data);\n});\n\nexport const editComment = createAsyncThunk(\"post/comment/edit\", async (props, thunkAPI) => {\n\tconst { customFetch, postId, commentId, comment, replyId } = props;\n\tconst { dispatch, rejectWithValue, getState, fulfillWithValue } = thunkAPI;\n\tconst {\n\t\tuser: { isGuest },\n\t} = getState();\n\tif (handleGuest(isGuest, dispatch)) return rejectWithValue();\n\tconst data = await customFetch(editCommentService, { postId, commentId, comment, replyId });\n\tdispatch(showModal({ msg: \"Comment Edited\" }));\n\treturn fulfillWithValue(data);\n});\n\nexport const replyComment = createAsyncThunk(\"post/comment/reply\", async (props, thunkAPI) => {\n\tconst { customFetch, id, commentId, comment, replyTo } = props;\n\tconst { dispatch, rejectWithValue, getState, fulfillWithValue } = thunkAPI;\n\tconst {\n\t\tuser: { isGuest },\n\t} = getState();\n\tif (handleGuest(isGuest, dispatch)) return rejectWithValue();\n\tconst data = await customFetch(replyCommentService, { id, commentId, comment, replyTo });\n\treturn fulfillWithValue(data);\n});\n\nconst postSlice = createSlice({\n\tname: \"post\",\n\tinitialState,\n\treducers: {\n\t\tsetAllPosts: (state, action) => {\n\t\t\tstate.allPosts = action.payload;\n\t\t},\n\t\tsetUserPosts: (state, action) => {\n\t\t\tstate.userPosts = action.payload;\n\t\t},\n\t\tupdatePosts: (state, action) => {\n\t\t\tstate.allPosts.posts = state.allPosts.posts.map(post => {\n\t\t\t\tif (post._id === action.payload._id) return action.payload;\n\t\t\t\treturn post;\n\t\t\t});\n\t\t\tstate.userPosts.posts = state.userPosts.posts.map(post => {\n\t\t\t\tif (post._id === action.payload._id) return action.payload;\n\t\t\t\treturn post;\n\t\t\t});\n\t\t},\n\t\tsetSinglePost: (state, action) => {\n\t\t\tstate.singlePost = action.payload;\n\t\t},\n\t\tsetEditingPost: (state, action) => {\n\t\t\tstate.editingPost = action.payload;\n\t\t},\n\t},\n\textraReducers: {\n\t\t[addPost.fulfilled]: (state, action) => {\n\t\t\tstate.allPosts.posts.pop();\n\t\t\tstate.userPosts.posts.pop();\n\t\t\tstate.allPosts.posts.unshift(action.payload);\n\t\t\tstate.userPosts.posts.unshift(action.payload);\n\t\t},\n\t\t[deletePost.fulfilled]: (state, action) => {\n\t\t\tstate.allPosts.posts = state.allPosts.posts.filter(post => post._id !== action.payload);\n\t\t\tstate.userPosts.posts = state.userPosts.posts.filter(post => post._id !== action.payload);\n\t\t},\n\t\t[likePost.fulfilled]: (state, { payload }) => {\n\t\t\tconst { singlePost, allPosts, userPosts } = state;\n\t\t\tconst { id, userId, add } = payload;\n\t\t\tif (singlePost._id === id) {\n\t\t\t\tadd\n\t\t\t\t\t? singlePost.likes.push(userId)\n\t\t\t\t\t: (singlePost.likes = singlePost.likes.filter(ele => ele !== userId));\n\t\t\t}\n\t\t\tlet post = allPosts.posts.find(post => post._id === id);\n\t\t\tlet _post = userPosts.posts.find(post => post._id === id);\n\t\t\tif (add) {\n\t\t\t\tpost?.likes.push(userId);\n\t\t\t\t_post?.likes.push(userId);\n\t\t\t} else {\n\t\t\t\tpost && (post.likes = post.likes.filter(ele => ele !== userId));\n\t\t\t\t_post && (_post.likes = _post.likes.filter(ele => ele !== userId));\n\t\t\t}\n\t\t},\n\t\t[update.type]: (state, action) => {\n\t\t\tconst { name, profileImage, id } = action.payload;\n\t\t\tstate.allPosts.posts = state.allPosts.posts.map(post => {\n\t\t\t\tif (post.createdBy === id) {\n\t\t\t\t\tconst updatedName = name || post.userDetails.name;\n\t\t\t\t\tconst updatedImage = profileImage || post.userDetails.image;\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...post,\n\t\t\t\t\t\tuserDetails: { name: updatedName, image: updatedImage },\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\treturn post;\n\t\t\t});\n\t\t\tstate.userPosts.posts = state.userPosts.posts.map(post => {\n\t\t\t\tif (post.createdBy === id) {\n\t\t\t\t\tconst updatedName = name || post.userDetails.name;\n\t\t\t\t\tconst updatedImage = profileImage || post.userDetails.image;\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...post,\n\t\t\t\t\t\tuserDetails: { name: updatedName, image: updatedImage },\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\treturn post;\n\t\t\t});\n\t\t},\n\t\t[deleteComment.fulfilled]: (state, action) => {\n\t\t\tconst { post } = action.payload;\n\t\t\tstate.singlePost = post;\n\t\t\tstate.allPosts.posts = state.allPosts.posts.map(_post => (_post._id === post._id ? post : _post));\n\t\t},\n\t\t[editComment.fulfilled]: (state, action) => {\n\t\t\tconst { post } = action.payload;\n\t\t\tstate.singlePost = post;\n\t\t},\n\t\t[replyComment.fulfilled]: (state, action) => {\n\t\t\tconst { post } = action.payload;\n\t\t\tstate.singlePost = post;\n\t\t},\n\t\t[logout.type]: (state, action) => {\n\t\t\treturn initialState;\n\t\t},\n\t\t[setPosts.pending]: state => {\n\t\t\tstate.allPosts.isLoading = true;\n\t\t},\n\t},\n});\n\nexport const { setUserPosts, setAllPosts, setEditingPost, setSinglePost } = postSlice.actions;\n\nexport default postSlice.reducer;\n","import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport { createChatService, fetchChatsService, fetchMessagesService } from \"../services/messageServices\";\nimport { logout } from \"./userSlice\";\n\nconst initialState = {\n\tconversationID: \"\",\n\tto: \"\",\n\tmessages: [],\n\tchats: [],\n};\n\nexport const getAllChats = createAsyncThunk(\"message/getAllChats\", async (props, thunkAPI) => {\n\tconst { customFetch, users } = props;\n\tconst { getState, rejectWithValue, fulfillWithValue } = thunkAPI;\n\tconst { user } = getState();\n\tconst data = await customFetch(fetchChatsService);\n\tif (!data) return rejectWithValue();\n\treturn fulfillWithValue({\n\t\tusers: users.filter(u => u._id !== user.id),\n\t\tchats: data.chats,\n\t});\n});\n\nexport const createChat = createAsyncThunk(\"message/createChat\", async (props, thunkAPI) => {\n\tconst { getState, dispatch, rejectWithValue } = thunkAPI;\n\tconst { customFetch, id } = props;\n\tconst { user, users, message } = getState();\n\tconst data = await customFetch(createChatService, { partnerId: id });\n\tif (!data) rejectWithValue();\n\tif (message.chats.every(chat => chat._id !== data.cid)) {\n\t\tdispatch(getAllChats({ customFetch, users: users.users }));\n\t}\n\tdispatch(messageSlice.actions.setChatID(data.cid));\n\tdispatch(messageSlice.actions.setReceiverID(id));\n\tconst _data = await customFetch(fetchMessagesService, { chatId: data.cid });\n\tdispatch(clearMessage());\n\tdispatch(setMessages({ messages: _data.messages, id: user.id }));\n});\n\nexport const updateChats = createAsyncThunk(\"message/updateChat\", async (props, thunkAPI) => {\n\tconst { getState, dispatch, fulfillWithValue } = thunkAPI;\n\tconst { lastMessage, id, chatId, customFetch } = props;\n\tconst { message, users } = getState();\n\tlet index;\n\tif (chatId) index = message.chats.findIndex(chat => chat._id === chatId);\n\telse index = message.chats.findIndex(chat => chat.members.includes(id));\n\tif (index >= 0) return fulfillWithValue({ index, lastMessage });\n\tdispatch(getAllChats({ customFetch, users: users.users }));\n});\n\nconst messageSlice = createSlice({\n\tname: \"message\",\n\tinitialState,\n\treducers: {\n\t\tclearMessage: (state, action) => {\n\t\t\tconst conversationID = action.payload?.conversationID;\n\t\t\tif (conversationID) {\n\t\t\t\tconst index = state.chats.findIndex(chat => chat._id === conversationID);\n\t\t\t\tconst updatingChat = state.chats[index];\n\t\t\t\tstate.chats = [\n\t\t\t\t\t{ ...updatingChat, lastMessage: \"\" },\n\t\t\t\t\t...state.chats.filter(chat => chat._id !== conversationID),\n\t\t\t\t];\n\t\t\t\tif (conversationID === state.conversationID) state.messages = [];\n\t\t\t} else {\n\t\t\t\tstate.messages = [];\n\t\t\t}\n\t\t},\n\t\tsetChatID: (state, action) => {\n\t\t\tstate.conversationID = action.payload;\n\t\t},\n\t\tsetReceiverID: (state, action) => {\n\t\t\tstate.to = action.payload;\n\t\t},\n\t\tsetMessages: (state, action) => {\n\t\t\tconst { messages, id } = action.payload;\n\t\t\tstate.messages = messages.map(message => {\n\t\t\t\treturn { text: message.text, send: message.sender === id, createdAt: message.createdAt };\n\t\t\t});\n\t\t},\n\t\taddMessages: (state, action) => {\n\t\t\tconst { text, send = false } = action.payload;\n\t\t\tstate.messages = [...state.messages, { text, send, createdAt: String(new Date()) }];\n\t\t},\n\t\tdeleteChat: (state, action) => {\n\t\t\tstate.chats = state.chats.filter(chat => chat._id !== action.payload);\n\t\t\tif (action.payload === state.conversationID) state.conversationID = \"\";\n\t\t},\n\t},\n\textraReducers: {\n\t\t[getAllChats.fulfilled]: (state, action) => {\n\t\t\tconst { users, chats } = action.payload;\n\t\t\tconst getUserDetails = members => users.find(user => members.includes(user._id));\n\t\t\tstate.chats = chats.map(chat => ({ ...chat, userDetails: getUserDetails(chat.members) }));\n\t\t},\n\t\t[updateChats.fulfilled]: (state, action) => {\n\t\t\tconst updatingChat = state.chats[action.payload?.index];\n\t\t\tif (updatingChat) {\n\t\t\t\tstate.chats = [\n\t\t\t\t\t{\n\t\t\t\t\t\t...updatingChat,\n\t\t\t\t\t\tlastMessage: action.payload.lastMessage,\n\t\t\t\t\t},\n\t\t\t\t\t...state.chats.filter(chat => chat._id !== updatingChat._id),\n\t\t\t\t];\n\t\t\t}\n\t\t},\n\t\t[logout.type]: (state, action) => {\n\t\t\treturn initialState;\n\t\t},\n\t},\n});\n\nexport const { addMessages, clearMessage, setChatID, setReceiverID, setMessages, deleteChat } =\n\tmessageSlice.actions;\n\nexport default messageSlice.reducer;\n","import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport { fetchUsersService } from \"../services/userServices\";\nimport { getAllChats } from \"./messageSlice\";\nimport { logout } from \"./userSlice\";\n\nconst initialState = {\n\tusers: [],\n\tusersOnline: [],\n};\n\nexport const getUsers = createAsyncThunk(\"users/getUsers\", async (props, thunkAPI) => {\n\tconst { customFetch } = props;\n\tconst { fulfillWithValue, rejectWithValue, dispatch, getState } = thunkAPI;\n\tconst data = await customFetch(fetchUsersService);\n\tif (!data) return rejectWithValue();\n\tconst { users } = data;\n\tif (!getState().user.isGuest) dispatch(getAllChats({ customFetch, users }));\n\treturn fulfillWithValue(users);\n});\n\nconst usersSlice = createSlice({\n\tname: \"users\",\n\tinitialState,\n\treducers: {\n\t\taddOnline: (state, action) => {\n\t\t\tstate.usersOnline = action.payload;\n\t\t},\n\t},\n\textraReducers: {\n\t\t[getUsers.fulfilled]: (state, action) => {\n\t\t\tstate.users = action.payload;\n\t\t},\n\t\t[logout.type]: (state, action) => {\n\t\t\treturn initialState;\n\t\t},\n\t},\n});\n\nexport const { addOnline } = usersSlice.actions;\nexport default usersSlice.reducer;\n","import React from \"react\";\nimport { cloneElement } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport \"./backdrop.css\";\n\nconst Backdrop = ({ children, show, onClose = () => {} }) => {\n\tconst newChildren = cloneElement(children, {\n\t\t...children.props,\n\t\tshow: show ? \"true\" : undefined,\n\t\tonClose,\n\t});\n\tconst closeModal = e => {\n\t\tconst isBackdrop = e.target.firstChild?.classList?.contains(\"backdrop__content\");\n\t\tif (isBackdrop) onClose();\n\t};\n\n\tconst node = (\n\t\t<div className={show ? \"backdrop show\" : \"backdrop\"} onClick={closeModal}>\n\t\t\t<div className=\"backdrop__content gradient-border\">{newChildren}</div>\n\t\t</div>\n\t);\n\treturn createPortal(node, document.getElementById(\"backdrops\"));\n};\n\nexport default Backdrop;\n","import extractParams from \"../utils/extractParams\";\nimport axiosConfig from \"./axiosConfig\";\n\nconst fetchUsersService = async (formData = {}) => {\n\tconst params = extractParams(formData, \"id\", \"query\");\n\tconst { data } = await axiosConfig.get(\"/users\", { params });\n\treturn data;\n};\n\nconst updateUserService = async (formData = {}) => {\n\tconst params = extractParams(formData, \"name\", \"about\", \"location\");\n\tconst { data } = await axiosConfig.patch(\"/users\", params);\n\treturn data;\n};\n\nconst updateDPService = async (formData = {}) => {\n\tconst headers = { \"Content-Type\": \"multipart/form-data\" };\n\tconst { data } = await axiosConfig.patch(\"/users/dp\", formData, { headers });\n\treturn data;\n};\n\nexport { fetchUsersService, updateUserService, updateDPService };\n","export default process.env.NODE_ENV === \"development\"\n\t? \"https://scoutx.onrender.com\"\n\t: \"https://scoutx.onrender.com\";\n","import extractParams from \"../utils/extractParams\";\nimport axiosConfig from \"./axiosConfig\";\n\nconst fetchChatsService = async () => {\n\tconst { data } = await axiosConfig.get(\"/chats\");\n\treturn data;\n};\n\nconst createChatService = async (formData = {}) => {\n\tconst { partnerId } = formData;\n\tconst { data } = await axiosConfig.post(\"/chats\", { partnerId });\n\treturn data;\n};\n\nconst fetchMessagesService = async (formData = {}) => {\n\tconst params = extractParams(formData, \"chatId\");\n\tconst { data } = await axiosConfig.get(\"/messages\", { params });\n\treturn data;\n};\n\nexport { fetchChatsService, createChatService, fetchMessagesService };\n","import React from \"react\";\nimport { dp } from \"../../assets\";\nimport { Link } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { toggleSidebar } from \"../../features/modalSlice\";\nimport \"./online.css\";\n\nconst Online = () => {\n\tconst {\n\t\tusers: { usersOnline, users },\n\t} = useSelector(state => state);\n\n\tconst dispatch = useDispatch();\n\n\tconst allUsers = () => {\n\t\treturn users.map(user => (\n\t\t\t<Link to={`/user/${user._id}`} key={user._id} onClick={() => dispatch(toggleSidebar(false))}>\n\t\t\t\t<div className=\"user\">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={user.profileImage || dp}\n\t\t\t\t\t\t\tloading=\"lazy\"\n\t\t\t\t\t\t\talt={user.name + \" image\"}\n\t\t\t\t\t\t\tclassName=\"roundimage\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<h3>{user.name}</h3>\n\t\t\t\t</div>\n\t\t\t</Link>\n\t\t));\n\t};\n\n\tconst onlineUsers = () => {\n\t\tconst _usersOnline = users.filter(user => usersOnline.some(u => u.id === user._id));\n\t\treturn _usersOnline.map(user => (\n\t\t\t<Link to={`/user/${user._id}`} key={user._id} onClick={() => dispatch(toggleSidebar(false))}>\n\t\t\t\t<div className=\"user\" title={user.name}>\n\t\t\t\t\t<div className=\"green\">\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={user.profileImage || dp}\n\t\t\t\t\t\t\talt={user.name + \" image\"}\n\t\t\t\t\t\t\tclassName=\"roundimage\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Link>\n\t\t));\n\t};\n\n\treturn (\n\t\t<section className=\"online\">\n\t\t\t<h2>Users Online - {usersOnline.length}</h2>\n\t\t\t<div className=\"online-users\">{onlineUsers()}</div>\n\t\t\t<h2>All Users - {users.length}</h2>\n\t\t\t{allUsers()}\n\t\t</section>\n\t);\n};\n\nexport default Online;\n","import React, { useEffect, useState } from \"react\";\nimport { sendIcon, fileIcon } from \"../../assets\";\nimport { useDispatch } from \"react-redux\";\nimport { addPost, updatePost } from \"../../features/postSlice\";\nimport useFetch from \"../../hooks/useFetch\";\nimport Compress from \"compress.js\";\nimport { closeIcon } from \"../../assets/index\";\nimport \"./createpost.css\";\n\nconst initialForm = { image: null, preview: null, caption: \"\" };\n\nconst CreatePost = ({ post, id, close }) => {\n\t// local states\n\tconst [form, setForm] = useState(initialForm);\n\n\tuseEffect(() => {\n\t\tif (post && post._id) {\n\t\t\tsetForm({ image: null, preview: post.image?.src, caption: post.caption });\n\t\t}\n\t}, [post]);\n\n\tconst dispatch = useDispatch();\n\tconst customFetch = useFetch();\n\tconst compress = new Compress();\n\n\tconst compressImage = async files => {\n\t\tconst options = { size: 1, quality: 0.75, maxWidth: 1920, maxHeight: 1920, resize: true, rotate: false };\n\t\tconst data = await compress.compress(files, options);\n\t\treturn data;\n\t};\n\n\tconst loadImage = async e => {\n\t\tconst input = e.target;\n\t\tif (!input) return;\n\t\tvar reader = new FileReader();\n\t\treader.onload = function (e) {\n\t\t\tsetForm(form => ({ ...form, preview: e.target.result }));\n\t\t};\n\t\tinput.files[0] && reader.readAsDataURL(input.files[0]);\n\t\tconst files = [...input.files];\n\t\tconst data = await compressImage(files);\n\t\tconst image = Compress.convertBase64ToFile(data[0]?.data, data[0]?.ext);\n\t\tsetForm(form => ({ ...form, image }));\n\t};\n\n\tconst submitHandler = async e => {\n\t\te.preventDefault();\n\t\tconst formData = new FormData();\n\t\tformData.append(\"image\", form.image);\n\t\tformData.append(\"caption\", form.caption.trim());\n\t\tif (post?._id) {\n\t\t\tdispatch(updatePost({ customFetch, id: post._id, formData }));\n\t\t\tclose();\n\t\t} else {\n\t\t\tdispatch(addPost({ customFetch, formData }));\n\t\t}\n\t\tsetForm(initialForm);\n\t};\n\n\treturn (\n\t\t<article className=\"createpost gradient-border\">\n\t\t\t<form onSubmit={submitHandler}>\n\t\t\t\t<textarea\n\t\t\t\t\tplaceholder=\"What's on your mind?\"\n\t\t\t\t\tvalue={form.caption}\n\t\t\t\t\tonChange={e => setForm({ ...form, caption: e.target.value })}\n\t\t\t\t/>\n\t\t\t\t{form.preview && (\n\t\t\t\t\t<div className=\"uploaded-image\">\n\t\t\t\t\t\t<img src={form.preview} alt=\"uploaded file\" />\n\t\t\t\t\t\t<div className=\"close-icon\" onClick={() => setForm({ ...form, image: null, preview: null })}>\n\t\t\t\t\t\t\t<img src={closeIcon} alt=\"remove\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t<div className=\"btns\">\n\t\t\t\t\t<label htmlFor={id || \"image\"} aria-label=\"select file\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<img src={fileIcon} alt=\"select file\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</label>\n\t\t\t\t\t<input type=\"file\" id={id || \"image\"} accept=\"image/png, image/jpeg\" onChange={loadImage} />\n\t\t\t\t\t<button type=\"submit\" aria-label=\"submit\">\n\t\t\t\t\t\t<img src={sendIcon} alt=\"send\" />\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</article>\n\t);\n};\n\nexport default CreatePost;\n"],"sourceRoot":""}